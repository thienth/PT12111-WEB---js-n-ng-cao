<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
</head>
<body>
	
	<table class="table table-striped">
		<thead>
			<tr>
				<th>
					<input class="leader" type="checkbox" name="" value="">
				</th>
				<th>
					Name
				</th>
				<th>
					<button type="button" class="btn btn-success" data-toggle="modal" data-target="#addNew">Add</button>
				</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>
					<input class="member" type="checkbox" name="" value="">
				</td>
				<td>
					Lorem ipsum dolor sit amet
				</td>
				<td>
					
				</td>
			</tr>
			<tr>
				<td>
					<input class="member" type="checkbox" name="" value="">
				</td>
				<td>
					Lorem ipsum dolor sit amet
				</td>
				<td>
					
				</td>
			</tr>
			<tr id="appendBefore"></tr>
		</tbody>
	</table>


	<div class="modal fade" id="addNew" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title" id="gridSystemModalLabel">Thêm bản ghi</h4>
	      </div>
	      <div class="modal-body">
	      	<div class="form-group">
	      		<label for="">Tên sản phẩm</label>
	      		<input type="text" id="newValue" class="form-control" placeholder="Thêm tên sản phẩm">
	      	</div>
	      	<div class="text-center">
	      		<button type="button" onclick="getNewContent()" class="btn btn-primary">Lưu</button>
	      	</div>
	      </div>
	    </div>
	  </div>
	</div>
	<script type="text/javascript" src="jquery.min.js"></script>
	<script src="bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		checkBoxToggle();


		function getNewContent(){
			// lay data tu input id = newValue
			var name = $('#newValue').val();			
			// tao ra the tr va td moi roi tien hanh append vao trong table
			var newTr = ``;
			$('#appendBefore').before(newTr);
			// goi lai ham checkBoxToggle
			checkBoxToggle();
			$('#newValue').val('');
			// dong lai model
			$('#addNew').modal('hide');
		}
		function checkBoxToggle(){
			$('.leader').click(function(){
				$('.member').prop('checked', 
						$(this).is(":checked"));
			});
			$('.member').click(function(){
				$('.leader').prop('checked', 
					$('.member:checked').length 
							=== $('.member').length);
				
			});
		}

	</script>
	
</body>
</html>